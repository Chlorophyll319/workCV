# 手機版頂部選單漢堡選單功能實作

**日期**: 2025-09-09 22:09:01

## 需求描述
用戶要求在手機版頂部選單加入一個icon，點擊後側邊面板會出現。

## 實作內容

### 1. 頂部選單結構調整
- 將頂部選單改為 `justify-between` 佈局
- 左側保持原有的VSCode icon和標題
- 右側新增手機版漢堡選單按鈕

### 2. 漢堡選單按鈕
```vue
<!-- 手機版漢堡選單 -->
<button
  @click="toggleSidebar"
  class="md:hidden p-1 hover:bg-primary-600 rounded transition-colors"
  title="切換選單"
>
  <Icon icon="heroicons:bars-3" class="w-4 h-4 text-primary-50" />
</button>
```

### 3. 側邊面板動畫改進
- 使用 `translate-x-full` 和 `translate-x-0` 實現滑入滑出效果
- 保持桌面版原有的寬度調整功能
- 手機版使用絕對定位覆蓋層

### 4. 背景遮罩
```vue
<!-- 手機版背景遮罩 -->
<div
  v-show="!isSidebarCollapsed && windowWidth < 768"
  @click="toggleSidebar"
  class="fixed inset-0 bg-black bg-opacity-50 z-10 md:hidden"
></div>
```

### 5. 響應式寬度檢測
- 新增 `windowWidth` ref 動態追蹤視窗寬度
- 在 `handleResize` 函數中更新寬度值
- 確保遮罩在正確時機顯示

## 技術要點

1. **圖示選擇**: 使用 `heroicons:bars-3` 作為標準的漢堡選單圖示
2. **響應式設計**: 按鈕只在 `md:hidden` (手機版) 顯示
3. **動畫效果**: 使用 Tailwind 的 `transition-all duration-300` 提供流暢的動畫
4. **用戶體驗**: 點擊背景遮罩可關閉側邊面板
5. **z-index 層級**: 遮罩 z-10，側邊面板 z-20，確保正確的層疊順序

## 檔案修改
- `src/layouts/default.vue`: 主要修改檔案

## 功能測試
- ✅ 手機版顯示漢堡選單按鈕
- ✅ 點擊按鈕切換側邊面板顯示/隱藏
- ✅ 背景遮罩點擊關閉功能
- ✅ 桌面版行為保持不變
- ✅ 滑入滑出動畫效果

## 後續建議
目前實作已滿足需求，側邊面板在手機版的使用體驗良好。如需進一步優化，可考慮：
- 添加觸控手勢滑動關閉功能
- 優化動畫緩動函數
- 增加無障礙支援屬性