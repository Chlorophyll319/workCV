# ProjectsSection.vue TypeScript 類型錯誤修正

**時間：** 2025-09-11 17:09

## 問題描述

用戶回報 `src\components\sections\ProjectsSection.vue` 出現紅色錯誤提示：
```
類型 'string | null' 的引數不可指派給類型 'string' 的參數。
類型 'null' 不可指派給類型 'string'。
```

## 問題分析

經檢查發現 `ProjectsSection.vue` 模板中多處直接使用了可能為 `null` 的欄位：
- `project.icon` 傳入 `getProjectIcon()` 函數（需要 `string` 類型）
- `project.type`、`project.status`、`project.description` 直接顯示在模板
- `project.techStack` 和 `project.metrics` 進行 v-for 迭代

根據 `projects.ts` 中的 `Project` 介面定義，這些欄位都允許 `null` 值。

## 修正內容

### 1. 函數參數 null 安全處理
```vue
<!-- 修正前 -->
<Icon :icon="getProjectIcon(project.icon)" class="w-4 h-4" />

<!-- 修正後 -->
<Icon :icon="getProjectIcon(project.icon || '')" class="w-4 h-4" />
```

### 2. 顯示內容 null 安全處理
```vue
<!-- 修正前 -->
{{ project.type }}
{{ project.status }}
{{ project.description }}

<!-- 修正後 -->
{{ project.type || 'N/A' }}
{{ project.status || 'N/A' }}
{{ project.description || '專案描述待補充' }}
```

### 3. 迭代物件 null 安全處理
```vue
<!-- 修正前 -->
v-for="tech in project.techStack"
v-for="(value, key) in project.metrics"

<!-- 修正後 -->
v-for="tech in project.techStack || []"
v-for="(value, key) in project.metrics || {}"
```

## 驗證結果

- ✅ TypeScript 編譯檢查通過
- ✅ 專案構建成功
- ✅ 所有 `string | null` 類型錯誤已解決

## 修正檔案

- `src/components/sections/ProjectsSection.vue` - 新增 null 安全處理

## 技術重點

1. **類型安全**：使用 `||` 運算子提供預設值，確保類型一致
2. **用戶體驗**：為 null 值提供有意義的預設顯示文字
3. **防禦性程式設計**：避免 null/undefined 造成的運行時錯誤

## 後續建議

- 考慮在專案中統一 null 值處理策略
- 可以建立工具函數統一處理 null 安全顯示
- 評估是否需要調整 TypeScript 配置的 strict null checks