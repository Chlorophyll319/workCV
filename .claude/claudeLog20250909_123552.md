# Tab 列與檔案總管統一管理系統建立 - 2025/09/09 12:35

## 任務概述
用戶希望 tab 列和檔案總管可以保持一致，且與 `src/components/sections` 資料夾內的 .vue 檔案內容可以一致，希望有一個統一管理的地方。

## 解決方案設計

### 1. 建立統一檔案系統配置 (`src/data/fileSystem.ts`)

#### 檔案結構設計
```typescript
interface FileItem {
  id: string           // 唯一識別符
  name: string         // 實際檔案名稱 (如 AboutSection.vue)
  displayName: string  // 顯示名稱 (如 about-me.md)
  icon: string         // 圖示
  type: 'vue' | 'js' | 'ts' | 'json' | 'md' | 'yaml'
  path: string         // 檔案路徑
  section?: string     // 對應的 section 區塊
}
```

#### 基於實際 sections 檔案的配置
- **HeroSectionNew.vue** → 顯示為 `portfolio.js`
- **AboutSection.vue** → 顯示為 `about-me.md`  
- **ProjectsSection.vue** → 顯示為 `projects.ts`
- **SkillsSection.vue** → 顯示為 `skills-config.yaml`

#### 輔助功能
- `getFileColor()`: 取得檔案對應的主題顏色
- `getFileIcon()`: 取得檔案類型對應的圖示
- `getActiveFile()`: 取得當前活躍檔案

### 2. 更新檔案總管顯示

#### 動態檔案列表
- 使用 `v-for` 迴圈顯示 `allFiles` 陣列
- 支援點擊切換活躍檔案
- 活躍檔案有視覺標示 (`bg-primary-100`)
- 圖示顏色根據檔案類型動態調整

#### 互動功能
- `handleFileClick(file)`: 處理檔案點擊，設置活躍狀態並開啟 tab

### 3. 更新 Tab 列顯示

#### 動態 Tab 管理
- 支援多個 Tab 同時開啟 (`openTabs` 陣列)
- 活躍 Tab 有明確的視覺區分
- 支援水平滾動 (`overflow-x-auto`)
- 每個 Tab 都有關閉按鈕

#### 互動功能
- `setActiveTab(tab)`: 切換活躍 Tab
- `closeTab(tab)`: 關閉 Tab，自動切換到相鄰 Tab
- 點擊檔案總管中的檔案會自動開啟對應的 Tab

### 4. 視覺一致性設計

#### 顏色系統
- 使用統一的顏色變數 (`var(--color-primary)`, `var(--color-accent)`)
- 活躍狀態的底線顏色與檔案類型顏色一致
- 圖示顏色根據活躍狀態動態調整

#### 響應式設計
- Tab 列支援水平滾動，防止在小螢幕下溢出
- 使用 `flex-shrink-0` 確保 Tab 寬度穩定
- 文字超長時使用 `truncate` 截斷

## 實現的功能特色

### 1. 統一數據源
所有檔案資訊都來自 `src/data/fileSystem.ts`，確保檔案總管和 Tab 列顯示完全一致。

### 2. 智能 Tab 管理
- 點擊檔案總管中的檔案會自動開啟 Tab
- 關閉 Tab 會自動切換到相鄰的 Tab
- 支援多個 Tab 同時開啟

### 3. 視覺反饋
- 活躍檔案在檔案總管中有背景色標示
- 活躍 Tab 有底線標示，顏色與檔案類型對應
- 圖示顏色根據狀態動態調整

### 4. 可擴展性
- 新增檔案只需在 `fileSystem.ts` 中添加配置
- 支援不同檔案類型的圖示和顏色主題
- 易於維護和更新

## 程式碼結構

### fileSystem.ts 配置檔
```typescript
export const sectionsFiles: FileItem[] = [
  // 基於實際 sections 資料夾的檔案配置
]

export const otherFiles: FileItem[] = [
  // 其他相關檔案配置
]

export const allFiles = [...sectionsFiles, ...otherFiles]
```

### Layout 組件整合
```typescript
// 導入統一配置
import { allFiles, getFileColor, type FileItem } from '../data/fileSystem'

// 狀態管理
const activeFile = ref<FileItem>(allFiles[1])
const openTabs = ref<FileItem[]>([allFiles[1], allFiles[4], allFiles[2]])

// 互動函數
const handleFileClick = (file: FileItem) => { /* ... */ }
const setActiveTab = (tab: FileItem) => { /* ... */ }
const closeTab = (tab: FileItem) => { /* ... */ }
```

## 優勢

1. **統一管理**：所有檔案資訊集中在一個配置檔中
2. **數據一致性**：檔案總管和 Tab 列使用相同的數據源
3. **易於維護**：新增或修改檔案只需更新配置檔
4. **用戶體驗**：直觀的互動邏輯，符合 VSCode 的操作習慣
5. **擴展性強**：可輕鬆添加新的檔案類型和功能

## 後續可優化的方向

1. 可添加檔案狀態標示（已修改、未儲存等）
2. 可實現檔案內容的實際切換
3. 可添加快捷鍵支援
4. 可實現 Tab 的拖拽排序功能

---
*Generated with Claude Code on 2025/09/09 12:35*